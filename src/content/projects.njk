---
permalink: projects.html
---

{% set allCategories = [] %}
{% for project in collections.projects %}
    {% for cat in project.data.categories %}
        {% set found = false %}
        {% for existing in allCategories %}
            {% if existing.tag == cat.tag %}
                {% set found = true %}
            {% endif %}
        {% endfor %}
        {% if not found %}
            {% set allCategories = allCategories.concat([{ tag: cat.tag, label: cat.label }]) %}
        {% endif %}
    {% endfor %}
{% endfor %}

{% set projects = collections.projects | sort(attribute='date') | reverse %}

{% extends "layouts/base.njk" %}

{% block content %}
    
    <div class="section grid-layout">
        <div class="grid-layout__header grid-layout__header--center">
            <h1>Nos projets</h1>
            <p class="fc-50">Reprehenderit qui quis amet sint eu est laborum laborum excepteur reprehenderit incididunt. Esse consectetur qui elit labore tempor nostrud voluptate commodo mollit voluptate. In aute est est quis anim dolor. Labore in est deserunt ad id consequat. Occaecat aute nostrud mollit voluptate ipsum veniam occaecat tempor labore excepteur.</p>
            <h3 class="fc-50">↓ Scroll pour les découvrir ↓</h3>
        </div>
    </div>

    <div class="section grid-layout">
        <div class="grid-layout__content">

                <input type="checkbox" id="filter-all" class="filters__input" name="projects-filter" checked>
            {% for cat in allCategories %}
                <input type="checkbox" id="filter-{{ cat.tag }}" class="filters__input" name="projects-filter">
            {% endfor %}

            <div class="projectCards__filters">

                <h2>Filtrer les projets</h2>

                <ul class="filters__list">
                        <li class="filters__item">
                            <label class="filters__label" for="filter-all">
                                Tous
                            </label>
                        </li>
                    {% for cat in allCategories %}
                        <li class="filters__item">
                            <label class="filters__label" for="filter-{{ cat.tag }}">
                                {{ cat.label }}
                            </label>
                        </li>
                    {% endfor %}
                </ul>
            </div>

            <div class="projectCard__container">
                <ul class="projectCards__list">
                    {% for project in projects %}
                        {% set categoryTags = [] %}
                        {% set categoryNames = [] %}
                        {% for cat in project.data.categories %}
                            {% set categoryTags = categoryTags.concat([cat.tag]) %}
                            {% set categoryNames = categoryNames.concat([cat.label]) %}
                        {% endfor %}
                        <li class="{{ categoryTags | join(' ') }} projectCards__item">
                            <a href="{{ project.url }}">
                                <div class="projectCard__carrousel">
                                    {% img project.data.images[0].src, project.data.title, "projectCard__image" %}
                                </div>
                                <div class="projectCard__content">
                                    <div>
                                        <h2 class="projectCard__title">{{ project.data.title }}</h2>
                                        <div class="fc-50">
                                            <p class="projectCard__mounth">{{ project.data.date | monthFrench }}</p>
                                            <p class="projectCard__year">{{ project.data.date.getFullYear() }}</p>
                                        </div>
                                    </div>
                                    <div>
                                        <p class="projectCard__subtitle">{{ project.data.subtitle }}</p>
                                    </div>
                                    <div class="projectCard__categories">
                                        {% for catName in categoryNames %}
                                            {% set catTag = categoryTags[loop.index0] %}
                                            <p class="projectCard__cat-{{catTag}}">{{ catName }}</p>
                                        {% endfor %}
                                    </div>
                                </div>
                                
                            </a>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>

    <style>
        {% for cat in allCategories %}
            #filter-{{ cat.tag }}:checked ~ .projectCards__filters .filters__label[for="filter-{{ cat.tag }}"] {
                background: var(--color-black);
                color: var(--color-text-light);
            }

            #filter-{{ cat.tag }}:checked ~ .projectCard__container .{{ cat.tag }} {
                display: block;
            }

            #filter-{{ cat.tag }}:checked ~ .projectCard__container .projectCard__cat-{{ cat.tag }} {
                background: var(--color-black);
                color: var(--color-text-light);
            }
        {% endfor %}

        {% for cat in allCategories %}

        {% endfor %}
    </style>

{% endblock %}